{"version":3,"file":"mdbm-debug.js","sources":["../src/library/checkAccess.js","../src/type/entries.js","../src/type/find.js","../src/type/exists.js","../src/type/isMissing.js","../src/type/messages.js","../src/type/check.js","../src/type/addType.js","../src/type/onCreate.js","../src/type/create.js","../src/type/index.js","../src/library/onOpen.js","../src/library/index.js","../src/object/onCreate.js","../src/object/index.js"],"sourcesContent":["/*jslint beta*/\n/*global\n    libByName\n*/\n\nfunction checkAccess() {\n    libByName(\"Object\");\n    libByName(\"mdbm.Type\");\n}\n\nexport {\n    checkAccess\n};\n","/*jslint beta*/\n/*global\n    libByName\n*/\n\nfunction entries() {\n    return libByName(\"mdbm.Type\").entries();\n}\n\nexport {\n    entries\n};\n","/*jslint beta*/\n/*global\n    libByName\n*/\n\nimport {entries} from \"./entries\";\n\nfunction find(typeName) {\n    return entries().find(\n        (e) => e.field(\"Name\") === typeName\n    );\n}\n\nexport {\n    find\n};\n","/*jslint beta*/\n/*global*/\n\nimport {find} from \"./find\";\n\nfunction exists(typeName) {\n    return find(typeName) !== undefined;\n}\n\nexport {\n    exists\n};\n","/*jslint beta*/\n/*global*/\n\nimport {exists} from \"./exists\";\n\nfunction isMissing(name) {\n    return !exists(name);\n}\n\nexport {\n    isMissing\n};\n","/*jslint beta*/\n/*global*/\n\nconst messages = {\n    isMissing\n};\n\nfunction isMissing(x) {\n    return \"Type '\" + x + \"' does not exist!\";\n}\n\nexport {\n    messages\n};\n","/*jslint beta*/\n/*global*/\n\nimport {isMissing} from \"./isMissing\";\nimport {messages} from \"./messages\";\n\nfunction check(typeName) {\n    if (isMissing(typeName)) {\n        throw messages.isMissing(typeName);\n    }\n}\n\nexport {\n    check\n};\n","/*jslint beta*/\n/*global*/\n\nimport {find} from \"./find\";\n\nfunction addType(typeEntry, typeName) {\n    const hasTypes = typeEntry.field(\"hasTypes\");\n    const hasTypeNames = hasTypes.map(\n        (e) => e.field(\"Name\")\n    );\n    if (!hasTypeNames.includes(typeName)) {\n        typeEntry.link(\n            \"hasTypes\",\n            find(typeName)\n        );\n    }\n}\n\nexport {\n    addType\n};\n","/*jslint beta*/\n/*global*/\n\nimport {addType} from \"./addType\";\nimport {find} from \"./find\";\n\nconst onCreate = {\n    open,\npost\n};\n\nfunction open(e) {\n    e.set(\n        \"hasTypes\",\n        find(\"Object\")\n    );\n}\n\nfunction post(e) {\n    addType(e, \"Object\");\n    addType(e, e.field(\"Name\"));\n    return e;\n}\n\nexport {\n    onCreate\n};\n","/*jslint beta*/\n/*global\n    libByName\n*/\n\nimport {exists} from \"./exists\";\nimport {messages} from \"./messages\";\nimport {onCreate} from \"./onCreate\";\n\nfunction create(typeName, baseType) {\n    if (exists(typeName)) {\n        throw messages.existsAlready(typeName);\n    }\n    return createType(typeName, baseType);\n}\n\nfunction createType(typeName, baseType) {\n    const typeEntry = libByName(\"mdbm.Type\").create({});\n    typeEntry.set(\"Name\", typeName);\n    if (baseType === undefined) {\n        onCreate.open(typeEntry);\n    } else {\n        typeEntry.set(\n            \"hasTypes\",\n            baseType.field(\"hasTypes\")\n        );\n    }\n    onCreate.post(typeEntry);\n    return typeEntry;\n}\n\nexport {\n    create\n};\n","/*jslint beta*/\n/*global*/\n\nimport {check} from \"./check\";\nimport {create} from \"./create\";\nimport {entries} from \"./entries\";\nimport {exists} from \"./exists\";\nimport {find} from \"./find\";\nimport {isMissing} from \"./isMissing\";\nimport {onCreate} from \"./onCreate.js\";\n\nconst type = {\n    check,\n    create,\n    isMissing,\n    onCreate\n};\n\nexport {\n    type\n};\n","/*jslint beta*/\n/*global\n    message\n*/\n\nimport {checkAccess} from \"./checkAccess\";\nimport {type} from \"@type\";\n\nconst onOpen = {\n    post\n};\n\nfunction post(library) {\n    checkAccess();\n    if (type.isMissing(library.title)) {\n        message(\"Type '\" + library.title + \"' is not defined!\");\n    }\n}\n\nexport {\n    onOpen\n};\n","/*jslint beta*/\n/*global*/\n\nimport {onOpen} from \"./onOpen\";\n\nconst library = {\n    onOpen\n};\n\nexport {\n    library\n};\n","/*jslint beta*/\n/*global\n    cancel\n    lib\n*/\n\nimport {library} from \"@library\";\n\nconst onCreate = {\n    open,\n    post\n};\n\nfunction open(e) {\n    \n    // const library = lib();\n    // if (type.isMissing(library.title)) {\n    //     library.show();\n    //     //throw (\"Type '\" + library.title + \"' is not defined!\"\n    //     //);\n    // }\n}\n\nfunction post(e) {\n    \n}\n\nexport {\n    onCreate\n};\n","/*jslint beta*/\n/*global*/\n\nimport {onCreate} from \"./onCreate\";\n\nconst object = {\n    onCreate\n};\n\nexport {\n    object\n};\n"],"names":["checkAccess","libByName","entries","find","typeName","e","field","exists","undefined","isMissing","name","messages","x","check","addType","typeEntry","hasTypes","hasTypeNames","map","includes","link","onCreate","open","post","set","create","baseType","existsAlready","createType","type","onOpen","library","title","message","object"],"mappings":";;IAKA,SAASA;QACLC,UAAU;QACVA,UAAU;AACd;ICHA,SAASC;QACL,OAAOD,UAAU,aAAaC;AAClC;ICAA,SAASC,KAAKC;QACV,OAAOF,UAAUC,KACZE,KAAMA,EAAEC,MAAM,YAAYF;AAEnC;ICNA,SAASG,OAAOH;QACZ,OAAOD,KAAKC,cAAcI;AAC9B;ICFA,SAASC,YAAUC;QACf,QAAQH,OAAOG;AACnB;ICJA,MAAMC,WAAW;QACbF;;IAGJ,SAASA,UAAUG;QACf,OAAO,WAAWA,IAAI;AAC1B;ICHA,SAASC,MAAMT;QACX,IAAIK,YAAUL,WAAW;YACrB,MAAMO,SAASF,UAAUL;AAC7B;AACJ;ICLA,SAASU,QAAQC,WAAWX;QACxB,MAAMY,WAAWD,UAAUT,MAAM;QACjC,MAAMW,eAAeD,SAASE,IACzBb,KAAMA,EAAEC,MAAM;QAEnB,KAAKW,aAAaE,SAASf,WAAW;YAClCW,UAAUK,KACN,YACAjB,KAAKC;AAEb;AACJ;ICVA,MAAMiB,aAAW;QACjBC,MAAIA;QACJC,MAAAA;;IAGA,SAASD,OAAKjB;QACVA,EAAEmB,IACE,YACArB,KAAK;AAEb;IAEA,SAASoB,OAAKlB;QACVS,QAAQT,GAAG;QACXS,QAAQT,GAAGA,EAAEC,MAAM;QACnB,OAAOD;AACX;ICbA,SAASoB,OAAOrB,UAAUsB;QACtB,IAAInB,OAAOH,WAAW;YAClB,MAAMO,SAASgB,cAAcvB;AACjC;QACA,OAAOwB,WAAWxB,UAAUsB;AAChC;IAEA,SAASE,WAAWxB,UAAUsB;QAC1B,MAAMX,YAAYd,UAAU,aAAawB,OAAO,CAAA;QAChDV,UAAUS,IAAI,QAAQpB;QACtB,IAAIsB,aAAalB,WAAW;YACxBa,WAASC,KAAKP;AAClB,eAAO;YACHA,UAAUS,IACN,YACAE,SAASpB,MAAM;AAEvB;QACAe,WAASE,KAAKR;QACd,OAAOA;AACX;IClBK,MAACc,OAAO;QACThB;QACAY;QACJhB,WAAIA;QACJY,UAAIA;;ICPJ,MAAMS,SAAS;QACfP,MAAIA;;IAGJ,SAASA,OAAKQ;QACV/B;QACA,IAAI6B,KAAKpB,UAAUsB,QAAQC,QAAQ;YAC/BC,QAAQ,WAAWF,QAAQC,QAAQ;AACvC;AACJ;ICZK,MAACD,UAAU;QACZD;;ICEJ,MAAMT,WAAW;QACbC;QACAC;;IAGJ,SAASD,KAAKjB,IAQd;IAEA,SAASkB,KAAKlB,IAEd;ICpBK,MAAC6B,SAAS;QACXb;;;;;;"}