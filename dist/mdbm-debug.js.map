{"version":3,"file":"mdbm-debug.js","sources":["../src/easy/object/onCreate.js","../src/easy/object/create.js","../src/easy/object/index.js","../src/easy/objectLink/onLink.js","../src/easy/objectLink/index.js"],"sourcesContent":["/*jslint beta*/\n/*global\n    lib\n    libByName\n*/\n\nconst onCreate = {\n    open,\n    post\n};\n\nfunction createObjectLink(libraryEntry) {\n    const linkEntry = libByName(\"ObjectLink\").create({});\n    linkEntry.link(\"Object\", libraryEntry);\n    linkEntry.set(\"libraryName\", libraryEntry.field(\"libraryName\"));\n    return linkEntry;\n}\n\nfunction open(libraryEntry) {\n    libraryEntry.set(\"libraryName\", lib().title);\n    return libraryEntry;\n}\n\nfunction post(libraryEntry) {\n    createObjectLink(libraryEntry);\n    return libraryEntry;\n}\n\nexport {\n    onCreate\n};\n","/*jslint beta*/\n/*global\n    libByName\n*/\n\nimport {onCreate} from \"./onCreate\";\n\nfunction create(libraryName) {\n    const object = libByName(libraryName).create({libraryName});\n    return onCreate.post(object);\n}\n\nexport {\n    create\n};\n","/*jslint beta*/\n/*global*/\n\nimport {create} from \"./create\";\nimport {onCreate} from \"./onCreate\";\n\nconst object = {\n    create,\n    onCreate\n};\n\nexport {\n    object\n};\n","/*jslint beta*/\n/*global\n    entry\n    masterEntry\n    masterField\n    masterLib\n*/\n\nconst onLink = {\n    post\n};\n\nfunction classOf(object) {\n    return Object.prototype.toString.call(object).slice(8, -1);\n}\n\nfunction hasLinkedEntries([ignore, field]) {\n    if (isList(field)) {\n        if (field.length > 0) {\n            return isEntry(field[0]);\n        }\n    }\n    return false;\n}\n\nfunction isClass(object, className) {\n    return classOf(object) === className;\n}\n\nfunction isEntry(object) {\n    return isClass(object, \"Entry\");\n}\n\nfunction isList(object) {\n    return isClass(object, \"ScriptableList\");\n}\n\n\n\nfunction linkData() {\n    const data = {\n        linked: {\n            entry: entry()\n        },\n        master: {\n            entry: masterEntry(),\n            field: masterField(),\n            library: masterLib()\n        }\n    };\n    data.master.fieldName = masterFieldName(data);\n    return data;\n}\n\nfunction masterFieldName(data) {\n    const fieldNames = data.master.library.fields();\n    const fields = fieldNames.map(\n        (x) => [x, data.master.entry.field(x)]\n    ).filter(hasLinkedEntries);\n}\n\nfunction post() {\n    const data = linkData();\n}\n\nexport {\n    onLink\n};\n","/*jslint beta*/\n/*global*/\n\nimport {onLink} from \"./onLink\";\n\nconst objectLink = {\n    onLink\n};\n\nexport {\n    objectLink\n};\n"],"names":["onCreate","open","post","createObjectLink","libraryEntry","linkEntry","libByName","create","link","set","field","lib","title","libraryName","object","onLink","classOf","Object","prototype","toString","call","slice","hasLinkedEntries","ignore","isList","length","isEntry","isClass","className","linkData","data","linked","entry","master","masterEntry","masterField","library","masterLib","fieldName","masterFieldName","fieldNames","fields","map","x","filter","objectLink"],"mappings":";;IAMA,MAAMA,WAAW;QACbC;QACJC,MAAIA;;IAGJ,SAASC,iBAAiBC;QACtB,MAAMC,YAAYC,UAAU,cAAcC,OAAO,CAAA;QACjDF,UAAUG,KAAK,UAAUJ;QACzBC,UAAUI,IAAI,eAAeL,aAAaM,MAAM;QAChD,OAAOL;AACX;IAEA,SAASJ,KAAKG;QACVA,aAAaK,IAAI,eAAeE,MAAMC;QACtC,OAAOR;AACX;IAEA,SAASF,OAAKE;QACVD,iBAAiBC;QACjB,OAAOA;AACX;ICnBA,SAASG,OAAOM;QACZ,MAAMC,SAASR,UAAUO,aAAaN,OAAO;YAACM;;QAC9C,OAAOb,SAASE,KAAKY;AACzB;ICJK,MAACA,SAAS;QACXP;QACAP;;ICAJ,MAAMe,SAAS;QACXb;;IAGJ,SAASc,QAAQF;QACb,OAAOG,OAAOC,UAAUC,SAASC,KAAKN,QAAQO,MAAM;AACxD;IAEA,SAASC,kBAAkBC,QAAQb;QAC/B,IAAIc,OAAOd,QAAQ;YACf,IAAIA,MAAMe,SAAS,GAAG;gBAClB,OAAOC,QAAQhB,MAAM;AACzB;AACJ;QACA,OAAO;AACX;IAEA,SAASiB,QAAQb,QAAQc;QACrB,OAAOZ,QAAQF,YAAYc;AAC/B;IAEA,SAASF,QAAQZ;QACb,OAAOa,QAAQb,QAAQ;AAC3B;IAEA,SAASU,OAAOV;QACZ,OAAOa,QAAQb,QAAQ;AAC3B;IAIA,SAASe;QACL,MAAMC,OAAO;YACTC,QAAQ;gBACJC,OAAOA;;YAEXC,QAAQ;gBACJD,OAAOE;gBACPxB,OAAOyB;gBACPC,SAASC;;;QAGjBP,KAAKG,OAAOK,YAAYC,gBAAgBT;QACxC,OAAOA;AACX;IAEA,SAASS,gBAAgBT;QACrB,MAAMU,aAAaV,KAAKG,OAAOG,QAAQK;QACxBD,WAAWE,IACrBC,KAAM,EAACA,GAAGb,KAAKG,OAAOD,MAAMtB,MAAMiC,MACrCC,OAAOtB;AACb;IAEA,SAASpB;QACQ2B;AACjB;IC1DK,MAACgB,aAAa;QACf9B;;;;;"}
