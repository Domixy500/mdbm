var mdbm=function(e){"use strict";function t(e,n){const r=n.field("basedOn");e.link("Type",n),1===r.length&&t(e,r[0])}const n={fromPrototype:function(e){const n=e.field("Attributes"),r=libByName("Object").create({});return t(r,e),function(e,t){e.set("Prototype",[t])}(r,e),n.forEach(e=>function(e,t){const n=libByName("Property").create({});n.set("Label",t.field("Label")),n.set("Type",t.field("Type")),n.set("Order",t.field("Order")),n.link("Object",e)}(r,e)),r}};function r(e){return e.field("DisplayNamePattern")}function i(e){return r(e)||o(e.field("Prototype")[0])}function o(e){return r(e)||o(e.field("basedOn")[0])}const c={displayName:function(e){const t=i(e),n=e.linksFrom("Property","Object");return t.replace(/\$\{([^}]+)\}/g,function(e,t){const r=n.filter(e=>e.field("Label")===t)[0];return r?r.field("Value"):""})},create:n};function l(e){return e.field("Type")}function u(e,t){const n=l(e);return void 0!==t&&e.set(n,t),e.field(n)}const f={calculated:function(e){const t=e.field("Object")[0];return t.field("Id")},multiLine:u,singleLine:u};function s(e){const t=l(e);return n=t,Object.keys(f).includes(n)?f[t](e):t;var n}const a={fromEntry:function(e){const t={type:()=>l(e),value:t=>u(e,t),valueAsString:()=>s(e)};return Object.freeze({property:t})},type:l,value:u,valueAsString:s};return e.notify=function(e){message(e),log(e)},e.object=c,e.property=a,e}({});
