var mdbm=function(e){"use strict";function t(e,n){const r=n.field("basedOn");e.link("Type",n),1===r.length&&t(e,r[0])}const n={fromPrototype:function(e){const n=e.field("Attributes"),r=libByName("Object").create({});return t(r,e),function(e,t){e.set("Prototype",[t])}(r,e),n.forEach(e=>function(e,t){const n=libByName("Property").create({});n.set("Label",t.field("Label")),n.set("Type",t.field("Type")),n.set("Order",t.field("Order")),n.link("Object",e)}(r,e)),r}};function r(e){return e.field("DisplayNamePattern")}function i(e){return r(e)||c(e.field("Prototype")[0])}function c(e){return r(e)||c(e.field("basedOn")[0])}function o(e){const t=i(e),n=e.linksFrom("Property","Object");return t.replace(/\$\{([^}]+)\}/g,function(e,t){const r=n.filter(e=>e.field("Label")===t)[0];return r?r.field("Value"):""})}const u={displayName:o,fromEntry:function(e){return Object.freeze({displayName:()=>o(e),id:()=>function(e){return e.field("Id")}(e)})},create:n};function l(e){return e.field("Type")}function f(e,t){const n=l(e);return void 0!==t&&e.set(n,t),e.field(n)}const s={calculated:function(e){const t=e.field("Object")[0];return new Function("e","object",e.field("calculated"))(e,t)},multiLine:f,singleLine:f};function a(e){const t=l(e);return n=t,Object.keys(s).includes(n)?s[t](e):t;var n}const d={fromEntry:function(e){const t={type:()=>l(e),value:t=>f(e,t),valueAsString:()=>a(e)};return Object.freeze({property:t})},type:l,value:f,valueAsString:a};return e.notify=function(e){message(e),log(e)},e.object=u,e.property=d,e}({});
