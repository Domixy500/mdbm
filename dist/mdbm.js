var mdbm=function(e){"use strict";const t={fromName:n,link:function(e,t){const i=n(t);e.set("mdbm.Type",i)}};function n(e){return libByName("mdbm.Type").entries().find(t=>t.field("Name")===e)}const i={onOpen:{post:function(){libByName("Object"),libByName("mdbm.Type"),function(){const e=lib().title;void 0===t.fromName(e)&&(!function(e){const t=libByName("mdbm.Type").create({});t.set("Name",e)}(e),message("Type "+e+" was created."))}()}}};function m(e){const t="Object"===function(e){return c(e).field("Name")}(e)?e:function(e){const t=libByName("Object").create({});return t.link("mdbm.Type",c(e)),t.link("mdbm.Object",t),t}(e);e.set("mdbm.Object",t),e.set("mdbm.Id",t.field("mdbm.Id"))}function c(e){return e.field("mdbm.Type")[0]}const o={onCreate:{open:function(e){t.link(e,lib().title)},post:function(e){m(e),createMissingTypes(e)}}};return e.library=i,e.object=o,e}({});
