var mdbm=function(e){"use strict";function t(e,n){const r=n.field("basedOn");e.link("Type",n),1===r.length&&t(e,r[0])}const n={fromPrototype:function(e){const n=e.field("Attributes"),r=libByName("Object").create({});return t(r,e),function(e,t){e.set("Prototype",[t])}(r,e),n.forEach(e=>function(e,t){const n=libByName("Property").create({});n.set("Label",t.field("Label")),n.set("Type",t.field("Type")),n.set("Order",t.field("Order")),n.link("Object",e)}(r,e)),r}};function r(e){return e.field("DisplayNamePattern")||i(e.field("Prototype")[0])}function i(e){return e.field("DisplayNamePattern")||i(e.field("basedOn")[0])}const o={displayName:function(e){const t=r(e),n=e.linksFrom("Property","Object");return t.replace(/\$\{([^}]+)\}/g,function(e,t){const r=n.filter(e=>e.field("Label")===t)[0];return r?r.field("Value"):""})},create:n};function c(e){return e.field("Type")}function l(e,t){const n=c(e);return void 0!==t&&e.set(n,t),e.field(n)}const f={multiLine:l,singleLine:l};function s(e){const t=c(e);return n=t,Object.keys(f).includes(n)?f[t](e):t;var n}const u={fromEntry:function(e){const t={type:()=>c(e),value:t=>l(e,t),valueAsString:()=>s(e)};return Object.freeze({property:t})},type:c,value:l,valueAsString:s};return e.notify=function(e){message(e),log(e)},e.object=o,e.property=u,e}({});
